(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{NNol:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("mrSG"),o=n("fXoL"),r=n("TEn/");let s=(()=>{class t{constructor(t){this.toastController=t}error(t){return Object(i.a)(this,void 0,void 0,function*(){const e=yield this.toastController.create({header:"Error",message:"Something did not work as expected. Try later!",position:"bottom",color:"danger",duration:4e3,buttons:[{text:"Close",role:"cancel"}]});yield e.present(),console.log(`Generic error handler caught: ${JSON.stringify(t,null,4)}`)})}success(t){return Object(i.a)(this,void 0,void 0,function*(){const e=yield this.toastController.create({header:"Success",message:null!=t?t:"Success!",position:"bottom",color:"success",duration:4e3,buttons:[{text:"Close",role:"cancel"}]});yield e.present()})}}return t.\u0275fac=function(e){return new(e||t)(o.Rb(r.L))},t.\u0275prov=o.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},vglk:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("mrSG"),o=n("fXoL"),r=n("NNol");let s=(()=>{class t{constructor(t){this.jobResultToastService=t}run(t,e,n){return Object(i.a)(this,void 0,void 0,function*(){e();try{yield t()}catch(i){yield this.jobResultToastService.error(i)}finally{n()}})}}return t.\u0275fac=function(e){return new(e||t)(o.Rb(r.a))},t.\u0275prov=o.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},xwiS:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("mrSG"),o=n("fXoL"),r=n("tk/3"),s=n("ri4K");let a=(()=>{class t{constructor(t,e){this.httpClient=t,this.authenticationService=e}doGet(e,n=!0){return Object(i.a)(this,void 0,void 0,function*(){const i={};return n&&this.insertAuthorizationHeader(i),yield this.httpClient.get(`${t.ENDPOINT}${e}`,{headers:i}).toPromise()})}doPost(e,n=!0,o={}){return Object(i.a)(this,void 0,void 0,function*(){const i={};return n&&this.insertAuthorizationHeader(i),yield this.httpClient.post(`${t.ENDPOINT}${e}`,o,{headers:i}).toPromise()})}insertAuthorizationHeader(t){const e=this.authenticationService.getToken();t.Authorization=`Bearer ${e}`}}return t.ENDPOINT="https://api.goshelter.me",t.\u0275fac=function(e){return new(e||t)(o.Rb(r.a),o.Rb(s.a))},t.\u0275prov=o.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},zsxG:function(t,e,n){"use strict";n.r(e),n.d(e,"FeatureFlagsPageModule",function(){return m});var i=n("ofXK"),o=n("3Pt+"),r=n("TEn/"),s=n("tyNb"),a=n("mrSG"),c=n("fXoL"),l=n("xwiS");let u=(()=>{class t{constructor(t){this.baseClient=t}getAll(){return Object(a.a)(this,void 0,void 0,function*(){return this.baseClient.doGet("/admin/feature-flag")})}update(t,e){return Object(a.a)(this,void 0,void 0,function*(){return this.baseClient.doPost(`/admin/feature-flag/${t}/update`,!0,e)})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(l.a))},t.\u0275prov=c.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var d=n("vglk"),b=n("NNol");function f(t,e){1&t&&(c.Nb(0,"ion-content"),c.Lb(1,"ion-spinner",1),c.Mb())}function h(t,e){if(1&t){const t=c.Ob();c.Nb(0,"ion-item"),c.Nb(1,"ion-label"),c.Nb(2,"div",3),c.hc(3),c.Mb(),c.Nb(4,"div",4),c.hc(5),c.Mb(),c.Mb(),c.Nb(6,"ion-toggle",5),c.Vb("ngModelChange",function(t){return e.$implicit.isEnabled=t})("click",function(){c.dc(t);const n=e.$implicit;return c.Xb(2).onToggleStateChange(n.id,n.isEnabled)}),c.Mb(),c.Mb()}if(2&t){const t=e.$implicit;c.Ab(3),c.jc(" ",t.name," "),c.Ab(2),c.jc(" ",t.description," "),c.Ab(1),c.ac("ngModel",t.isEnabled)}}function g(t,e){if(1&t&&(c.Nb(0,"ion-content"),c.Nb(1,"ion-list"),c.gc(2,h,7,3,"ion-item",2),c.Mb(),c.Mb()),2&t){const t=c.Xb();c.Ab(2),c.ac("ngForOf",t.flags)}}const p=[{path:"",component:(()=>{class t{constructor(t,e,n){this.featureFlagApiClient=t,this.loadingService=e,this.jobResultToastService=n,this.isLoading=!1,this.flags=[],this.showLoading=()=>{this.isLoading=!0},this.hideLoading=()=>{this.isLoading=!1}}ngOnInit(){}ionViewWillEnter(){return Object(a.a)(this,void 0,void 0,function*(){yield this.loadingService.run(()=>Object(a.a)(this,void 0,void 0,function*(){const t=yield this.featureFlagApiClient.getAll();this.flags=t.features}),this.showLoading,this.hideLoading)})}onToggleStateChange(t,e){return Object(a.a)(this,void 0,void 0,function*(){try{yield this.featureFlagApiClient.update(t,{isEnabled:!e}),yield this.jobResultToastService.success("Feature flag updated!")}catch(n){yield this.jobResultToastService.error(n)}})}}return t.\u0275fac=function(e){return new(e||t)(c.Kb(u),c.Kb(d.a),c.Kb(b.a))},t.\u0275cmp=c.Eb({type:t,selectors:[["app-feature-flags"]],decls:6,vars:2,consts:[[4,"ngIf"],["name","crescent"],[4,"ngFor","ngForOf"],[1,"flag-name"],[1,"flag-description"],[3,"ngModel","ngModelChange","click"]],template:function(t,e){1&t&&(c.Nb(0,"ion-header"),c.Nb(1,"ion-toolbar"),c.Nb(2,"ion-title"),c.hc(3,"Feature flags"),c.Mb(),c.Mb(),c.Mb(),c.gc(4,f,2,0,"ion-content",0),c.gc(5,g,3,1,"ion-content",0)),2&t&&(c.Ab(4),c.ac("ngIf",e.isLoading),c.Ab(1),c.ac("ngIf",!e.isLoading))},directives:[r.l,r.E,r.C,i.i,r.j,r.z,r.r,i.h,r.p,r.q,r.D,r.b,o.d,o.e],styles:["ion-spinner[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;margin-top:30px;display:block}.flag-name[_ngcontent-%COMP%]{font-size:1.3rem}.flag-description[_ngcontent-%COMP%]{margin-top:10px;color:#666}"]}),t})()}];let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Ib({type:t}),t.\u0275inj=c.Hb({imports:[[s.j.forChild(p)],s.j]}),t})(),m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Ib({type:t}),t.\u0275inj=c.Hb({imports:[[i.b,o.a,r.F,v]]}),t})()}}]);