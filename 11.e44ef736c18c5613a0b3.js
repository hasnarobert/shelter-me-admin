(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"p/W7":function(e,t,i){"use strict";i.r(t),i.d(t,"ParkingSpaceListPageModule",function(){return g});var n=i("ofXK"),o=i("3Pt+"),r=i("TEn/"),c=i("tyNb"),l=i("mrSG"),s=i("iOCt"),a=i("fXoL"),d=i("vglk");function b(e,t){1&e&&a.Lb(0,"ion-spinner",10)}function h(e,t){if(1&e){const e=a.Ob();a.Nb(0,"ion-item",12),a.Vb("click",function(){a.dc(e);const i=t.$implicit;return a.Xb(2).onItemClick(i.id)}),a.Nb(1,"ion-label"),a.Nb(2,"h3"),a.hc(3),a.Mb(),a.Nb(4,"h2"),a.hc(5),a.Mb(),a.Mb(),a.Mb()}if(2&e){const e=t.$implicit;a.Ab(3),a.ic(e.id),a.Ab(2),a.ic(e.address)}}function u(e,t){if(1&e&&(a.Nb(0,"ion-list"),a.gc(1,h,6,2,"ion-item",11),a.Mb()),2&e){const e=a.Xb();a.Ab(1),a.ac("ngForOf",e.parkingSpaces)}}const M=[{path:"",component:(()=>{class e{constructor(e,t,i){this.parkingSpaceApiClient=e,this.loadingService=t,this.router=i,this.parkingSpaces=[],this.idFilterModel="",this.ownerIdFilterModel="",this.typeFilterModel="shelter",this.isCurationNeededFilterModel="false",this.isDeletedFilterModel="false",this.isRejectedFilterModel="false",this.isLoading=!1,this.showLoading=()=>{this.isLoading=!0},this.hideLoading=()=>{this.isLoading=!1}}ngOnInit(){}ionViewWillEnter(){return Object(l.a)(this,void 0,void 0,function*(){yield this.refreshParkingSpaceList()})}onSearchButtonClick(){return Object(l.a)(this,void 0,void 0,function*(){yield this.refreshParkingSpaceList()})}onItemClick(e){return Object(l.a)(this,void 0,void 0,function*(){yield this.router.navigate(["parking-space",e])})}refreshParkingSpaceList(){return Object(l.a)(this,void 0,void 0,function*(){yield this.loadingService.run(()=>Object(l.a)(this,void 0,void 0,function*(){const e={type:"shelter"===this.typeFilterModel?s.c.SHELTER:s.c.PUBLIC,isCurationNeeded:"true"===this.isCurationNeededFilterModel,isDeleted:"true"===this.isDeletedFilterModel,isRejected:"true"===this.isRejectedFilterModel};this.idFilterModel&&(e.parkingSpaceId=this.idFilterModel),this.ownerIdFilterModel&&(e.ownerId=this.ownerIdFilterModel);const t=yield this.parkingSpaceApiClient.searchByFilters(e);this.parkingSpaces=t.list}),this.showLoading,this.hideLoading)})}}return e.\u0275fac=function(t){return new(t||e)(a.Kb(s.a),a.Kb(d.a),a.Kb(c.g))},e.\u0275cmp=a.Eb({type:e,selectors:[["app-parking-space-list"]],decls:63,vars:9,consts:[["position","stacked"],["type","text",3,"ngModel","ngModelChange"],["interface","popover",3,"ngModel","ngModelChange"],["value","shelter"],["value","public"],["value","true"],["value","false"],["expand","block",3,"click"],["name","crescent",4,"ngIf"],[4,"ngIf"],["name","crescent"],["detail","true",3,"click",4,"ngFor","ngForOf"],["detail","true",3,"click"]],template:function(e,t){1&e&&(a.Nb(0,"ion-header"),a.Nb(1,"ion-toolbar"),a.Nb(2,"ion-title"),a.hc(3),a.Mb(),a.Mb(),a.Mb(),a.Nb(4,"ion-content"),a.Nb(5,"h1"),a.hc(6,"Filters"),a.Mb(),a.Nb(7,"ion-grid"),a.Nb(8,"ion-row"),a.Nb(9,"ion-col"),a.Nb(10,"ion-item"),a.Nb(11,"ion-label",0),a.hc(12,"ID"),a.Mb(),a.Nb(13,"ion-input",1),a.Vb("ngModelChange",function(e){return t.idFilterModel=e}),a.Mb(),a.Mb(),a.Mb(),a.Nb(14,"ion-col"),a.Nb(15,"ion-item"),a.Nb(16,"ion-label",0),a.hc(17,"Owner ID"),a.Mb(),a.Nb(18,"ion-input",1),a.Vb("ngModelChange",function(e){return t.ownerIdFilterModel=e}),a.Mb(),a.Mb(),a.Mb(),a.Nb(19,"ion-col"),a.Nb(20,"ion-item"),a.Nb(21,"ion-label",0),a.hc(22,"Type"),a.Mb(),a.Nb(23,"ion-select",2),a.Vb("ngModelChange",function(e){return t.typeFilterModel=e}),a.Nb(24,"ion-select-option",3),a.hc(25,"Shelter"),a.Mb(),a.Nb(26,"ion-select-option",4),a.hc(27,"Public"),a.Mb(),a.Mb(),a.Mb(),a.Mb(),a.Nb(28,"ion-col"),a.Nb(29,"ion-item"),a.Nb(30,"ion-label",0),a.hc(31,"Needs curation"),a.Mb(),a.Nb(32,"ion-select",2),a.Vb("ngModelChange",function(e){return t.isCurationNeededFilterModel=e}),a.Nb(33,"ion-select-option",5),a.hc(34,"Yes"),a.Mb(),a.Nb(35,"ion-select-option",6),a.hc(36,"No"),a.Mb(),a.Mb(),a.Mb(),a.Mb(),a.Nb(37,"ion-col"),a.Nb(38,"ion-item"),a.Nb(39,"ion-label",0),a.hc(40,"Is deleted"),a.Mb(),a.Nb(41,"ion-select",2),a.Vb("ngModelChange",function(e){return t.isDeletedFilterModel=e}),a.Nb(42,"ion-select-option",5),a.hc(43,"Yes"),a.Mb(),a.Nb(44,"ion-select-option",6),a.hc(45,"No"),a.Mb(),a.Mb(),a.Mb(),a.Mb(),a.Nb(46,"ion-col"),a.Nb(47,"ion-item"),a.Nb(48,"ion-label",0),a.hc(49,"Is rejected"),a.Mb(),a.Nb(50,"ion-select",2),a.Vb("ngModelChange",function(e){return t.isRejectedFilterModel=e}),a.Nb(51,"ion-select-option",5),a.hc(52,"Yes"),a.Mb(),a.Nb(53,"ion-select-option",6),a.hc(54,"No"),a.Mb(),a.Mb(),a.Mb(),a.Mb(),a.Mb(),a.Nb(55,"ion-row"),a.Nb(56,"ion-col"),a.Nb(57,"ion-button",7),a.Vb("click",function(){return t.onSearchButtonClick()}),a.hc(58,"Search"),a.Mb(),a.Mb(),a.Mb(),a.Mb(),a.Nb(59,"h1"),a.hc(60,"Parking spaces"),a.Mb(),a.gc(61,b,1,0,"ion-spinner",8),a.gc(62,u,2,1,"ion-list",9),a.Mb()),2&e&&(a.Ab(3),a.jc("Parking spaces: ",t.parkingSpaces.length,""),a.Ab(10),a.ac("ngModel",t.idFilterModel),a.Ab(5),a.ac("ngModel",t.ownerIdFilterModel),a.Ab(5),a.ac("ngModel",t.typeFilterModel),a.Ab(9),a.ac("ngModel",t.isCurationNeededFilterModel),a.Ab(9),a.ac("ngModel",t.isDeletedFilterModel),a.Ab(9),a.ac("ngModel",t.isRejectedFilterModel),a.Ab(11),a.ac("ngIf",t.isLoading),a.Ab(1),a.ac("ngIf",!t.isLoading))},directives:[r.l,r.E,r.C,r.j,r.k,r.w,r.i,r.p,r.q,r.o,r.K,o.d,o.e,r.x,r.J,r.y,r.e,n.i,r.z,r.r,n.h],styles:["h1[_ngcontent-%COMP%]{padding-left:20px}ion-spinner[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;margin-top:30px;display:block}h3[_ngcontent-%COMP%]{opacity:.5;font-size:.7rem}ion-item[_ngcontent-%COMP%]:hover{cursor:pointer;--background:rgba(var(--ion-color-primary-rgb),0.14)}"]}),e})()}];let p=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Ib({type:e}),e.\u0275inj=a.Hb({imports:[[c.j.forChild(M)],c.j]}),e})(),g=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Ib({type:e}),e.\u0275inj=a.Hb({imports:[[n.b,o.a,r.F,p]]}),e})()},vglk:function(e,t,i){"use strict";i.d(t,"a",function(){return l});var n=i("mrSG"),o=i("fXoL"),r=i("TEn/");let c=(()=>{class e{constructor(e){this.toastController=e}handle(e){return Object(n.a)(this,void 0,void 0,function*(){const t=yield this.toastController.create({header:"Error",message:"Something did not work as expected. Try later",position:"bottom",color:"danger",buttons:[{text:"Close",role:"cancel"}]});yield t.present(),console.log(`BOOM: ${JSON.stringify(e)}`)})}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(r.L))},e.\u0275prov=o.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),l=(()=>{class e{constructor(e){this.errorHandlingService=e}run(e,t,i){return Object(n.a)(this,void 0,void 0,function*(){t();try{yield e()}catch(n){yield this.errorHandlingService.handle(n)}finally{i()}})}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(c))},e.\u0275prov=o.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},xwiS:function(e,t,i){"use strict";i.d(t,"a",function(){return l});var n=i("mrSG"),o=i("fXoL"),r=i("tk/3"),c=i("ri4K");let l=(()=>{class e{constructor(e,t){this.httpClient=e,this.authenticationService=t}doGet(t,i=!0){return Object(n.a)(this,void 0,void 0,function*(){const n={};return i&&this.insertAuthorizationHeader(n),yield this.httpClient.get(`${e.ENDPOINT}${t}`,{headers:n}).toPromise()})}doPost(t,i=!0,o={}){return Object(n.a)(this,void 0,void 0,function*(){const n={};return i&&this.insertAuthorizationHeader(n),yield this.httpClient.post(`${e.ENDPOINT}${t}`,o,{headers:n}).toPromise()})}insertAuthorizationHeader(e){const t=this.authenticationService.getToken();e.Authorization=`Bearer ${t}`}}return e.ENDPOINT="https://api.goshelter.me",e.\u0275fac=function(t){return new(t||e)(o.Rb(r.a),o.Rb(c.a))},e.\u0275prov=o.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);